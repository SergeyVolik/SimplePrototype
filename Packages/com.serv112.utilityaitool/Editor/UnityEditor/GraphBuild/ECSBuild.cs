using System.Linq;
using UnityEditor;

namespace SerV112.UtilityAIEditor
{
    public class ECSBuild : BaseBuild
    {
        public ECSBuild(AIGraphAssetModel model) : base(model)
        {

        }

        void EcsBuild()
        {
            var varibales = m_AssetModel.GraphModel.VariableDeclarations.ToList();
            var Namespace = m_AssetModel.Namespace;

            varibales.ForEach(e =>
            {
                T4GenUtils.CreateEcsComponent(pathWithScripts, e.GetVariableName(), typeof(float), Namespace);
            });

            State = AIGraphBuidState.AfterReimport;
            AssetDatabase.Refresh();
        }
        public override void Build()
        {
            EcsBuild();
        }
    }
}
